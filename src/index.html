<!doctype html>
<html lang="en-US">
  <head>
    <%= t.include("partials/_webfonts.html") %>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <base target="_blank">
    <!-- GDPR compliance -->
    <script src="https://apps.npr.org/gdpr/gdprCompliance.js"></script>
  </head>
  <body>
    <script>
      var here = new URL(window.location);
      document.body.classList.add(here.searchParams.get("theme"));
    </script>

    <liveblog-headlines
      src=""
      href=""
      headline=""
      theme=""
    ></liveblog-headlines>
    <script>
      var widget = document.querySelector("liveblog-headlines");
      var applyParams = function(query, attribute) {
        if (here.searchParams.has(query)) {
          widget.setAttribute(attribute, here.searchParams.get(query));
        }
      }

      applyParams("feed", "src");
      applyParams("link", "href");
      applyParams("headline", "headline");
      applyParams("limit", "max");
      applyParams("timestamps", "timestamps");
      applyParams("theme", "theme");
    </script>

    <script src="app.js" async></script>
    <%= t.include("partials/_analytics.html", { json: { project: { embedded: true }}}) %>
  </body>
</html>
